function TvInit(){var a,c=Tv.Menu.querySelector("#tvpage_1"),b=Tv.Menu.querySelector("#tvpagecont"),d=PlayListVideo.length/TV_MAXPAGEVIDEO/2;c.querySelector("#tvtitle").textContent=Msg.TvPlayListTitle;for(a=1;a<d;++a){var e=c.cloneNode(!0);e.setAttribute("id","tvpage_"+(a+1));e.style.display="none";var g=e.querySelector("#tvback");g.style.display="block";g.querySelector("#tvbtback").setAttribute("onclick","TvShowMenu("+a+");");var f=e.querySelector("#tvnext");a<d-1?(f.querySelector("#tvbtnext").setAttribute("onclick",
"TvShowMenu("+(a+2)+");"),f.style.display="block",f.style.width="50%",g.style.width="50%"):f.style.display="none";b.appendChild(e)}b=1;Tv.VideoMax=PlayListVideo.length/2;for(a=0;a<Tv.VideoMax;++a)a&&0==a%TV_MAXPAGEVIDEO&&(++b,c=Tv.Menu.querySelector("#tvpage_"+b)),d=document.createElement("button"),d.setAttribute("class","tvmenubutton"),d.setAttribute("id","Video"+(a+1)),d.setAttribute("onclick","TvPlayVideo('"+a+"');"),c.appendChild(d),d.insertAdjacentHTML("afterbegin",a+1+". "+PlayListVideo[2*a])}
function TvPlayVideo(a){DEBUG&&console.log(LOG_PROMPT,"Play video",a);Tv.Video.setAttribute("src",TV_VIDEO_PATH+PlayListVideo[2*a+1]);Tv.Menu.removeAttribute("class");Tv.Menu.setAttribute("visible","false");Tv.Player.setAttribute("visible","true");Tv.Player.setAttribute("class","raycastable");Tv.Player.setAttribute("src","#TvVideo");Tv.VideoCur=a;Tv.Video.play();RaycastableObj(".tvctrlray",!0);setTimeout(function(){Tv.Mode=TV_MODE_PLAYER},500)}
function TvProgBarMove(a){Tv.Counter.setAttribute("text","value: "+Sec2Time(a)+"/"+Sec2Time(Tv.Video.duration));Tv.Cursor.setAttribute("position",TV_PROGBAR_OFFSET_X+TV_PROGBAR_WIDTH*a/Tv.Video.duration+" 0 0.001")}function TvShowLog(){DEBUG&&console.log(LOG_PROMPT,"TV show log");Tv.Menu.removeAttribute("class");Tv.Menu.setAttribute("visible","false");Tv.Log.setAttribute("visible","true");Tv.Log.setAttribute("class","raycastable");setTimeout(function(){Tv.Mode=TV_MODE_LOG},500)}
function TvShowMenu(a){if(a)for(var c=Tv.Menu.querySelectorAll(".tvmenupage"),b=0;b<c.length;b++)c[b].style.display=c[b].id=="tvpage_"+a?"block":"none";else Tv.Log.removeAttribute("class"),Tv.Log.setAttribute("visible","false"),Tv.Player.removeAttribute("class"),Tv.Player.setAttribute("visible","false"),Tv.Menu.setAttribute("class","raycastable"),Tv.Menu.setAttribute("visible","true"),Tv.Mode=TV_MODE_MENU};
