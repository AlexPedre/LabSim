function BunsenBurn(a){if(a){if(!Bunsen.On){Speak(Msg.SsBunsenNoGas);return}StopSound("SND_BunsenGasLoop");clearInterval(Bunsen.hTimer);Bunsen.Handle.querySelector("#FlameRed").setAttribute("particle-system","enabled: true");PlaySound("SND_BunsenLoop");DisableShadowAll();Bunsen.Burning=!0;Speak(Msg.SsBunsenOn)}else{if(!Bunsen.On){ShowError(Msg.SsBunsenAlrOff);return}BunsenGas(a)}Bunsen.On=a}
function BunsenColor(a){Bunsen.On&&Bunsen.Ox&&("undefined"===typeof a?Bunsen.FlameOxHandle.setAttribute("particle-system","color: #020202,#0000FF,#0000FF"):Bunsen.FlameOxHandle.setAttribute("particle-system","color: "+a),DisableShadowAll())}
function BunsenOxidant(a){var b=Bunsen.Handle.querySelector("#Ring");if(a){if(Bunsen.Ox){ShowError(Msg.SsBunsenAlrOx);return}Bunsen.Handle.querySelector("#AirHole1").setAttribute("position","0 0.032 0");b.setAttribute("rotation","0 90 0");Speak(Msg.SsBunsenOx)}else{if(!Bunsen.Ox){ShowError(Msg.SsBunsenAlrRed);return}Bunsen.Handle.querySelector("#AirHole1").setAttribute("position","0 -3 0");b.setAttribute("rotation","0 0 0");Speak(Msg.SsBunsenRed)}Bunsen.Burning&&(Bunsen.Handle.querySelector("#FlameOx").setAttribute("particle-system",
a?"enabled: true":"enabled: false"),Bunsen.Handle.querySelector("#FlameRed").setAttribute("particle-system",a?"enabled: false":"enabled: true"),DisableShadowAll());Bunsen.Ox=a}
function BunsenGas(a){if(a){if(Bunsen.On){ShowError(Msg.SsBunsenAlrGasOpen);return}Bunsen.Timer=0;Bunsen.hTimer=setInterval(function(){++Bunsen.Timer;switch(Bunsen.Timer){case 15:Speak(Msg.SsSmellGas1);break;case 30:Speak(Msg.SsSmellGas2);break;case 60:Speak(Msg.SsSmellGas3);break;case 120:Explosion()}},1E3);PlaySound("SND_BunsenGasLoop")}else{if(!Bunsen.On){ShowError(Msg.SsBunsenAlrGasClose);return}Bunsen.Burning?(Bunsen.Handle.querySelector(Bunsen.Ox?"#FlameOx":"#FlameRed").setAttribute("particle-system",
"enabled: false"),DisableShadowAll(),StopSound("SND_BunsenLoop"),Bunsen.Burning=!1,Speak(Msg.SsBunsenOff)):(StopSound("SND_BunsenGasLoop"),clearInterval(Bunsen.hTimer))}Bunsen.On=a}function BunsenTurnOn(){Bunsen.Burning?Speak(Msg.SsBunsenAlrOn):GlassReady.Obj!==Lighter?Speak(Msg.SsBunsenNoLighter):ScLighterClick(Bunsen)};
